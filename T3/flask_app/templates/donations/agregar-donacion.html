<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar-Donaci贸n</title>
    <link rel="stylesheet" href="static/css/style.css">
</head>
<body>
    <button class="home-icon-button" onclick="window.location.href='/'"></button>
    <h1>Agregar Donaci贸n</h1>
    
    <!-- Mensaje de agradecimiento -->

    <form class="formulario" id="add-donation-form" action="agregar-donacion" method="POST" enctype="multipart/form-data">
        <h3>Informaci贸n de Contacto</h3>
        
        <!-- Nombre del donante -->
        <label for="nombre">Nombre donante:</label><br>
        <input type="text" id="nombre" name="nombre" required 
            size="80" placeholder="Ingrese su nombre">
        <br><br>

        <!-- Email del donante -->
        <label for="email">Email donante:</label><br>
        <input type="email" id="email" name="email" required 
            size=30 placeholder="ejemplo@correo.com">
        <br><br>

        <!-- N煤mero celular del donante  -->
        <label for="celular">N煤mero celular donante:</label><br>
        <input type="tel" id="celular" name="celular"
            size=15 placeholder="+56 9 1234 5678">
        <br><br>

        <!-- Selecci贸n de regi贸n -->
        <label for="region">Regi贸n:</label><br>
        <select id="region" name="region" required>
            <option value="">Seleccione una regi贸n</option>
        </select>
        <br><br>

        <!-- Selecci贸n de comuna -->
        <label for="comuna">Comuna:</label><br>
        <select id="comuna" name="comuna" required>
            <option value="">Seleccione una comuna</option>
        </select>
        <br><br>

        <!-- Contenedor de dispositivos -->
        <div id="device-container">
            <div class="device-info">
                <h3>Informaci贸n del Dispositivo</h3>
                <label for="device-name">Nombre del Dispositivo:</label><br>
                <input id="device-name" type="text" name="device-name[]" required 
                    size=80 placeholder="Ingrese el nombre del dispositivo">
                <br><br>

                <label for="device-description">Descripci贸n:</label><br>
                <textarea id="device-description" name="device-description[]"
                    rows="4" cols="50" placeholder="Ingrese una descripci贸n (opcional)"></textarea>
                <br><br>

                <label for="device-type">Tipo:</label><br>
                <select id="device-type" name="device-type[]" required>
                    <option value="">Seleccione un tipo</option>
                    <option value="pantalla">Pantalla</option>
                    <option value="notebook">Notebook</option>
                    <option value="tablet">Tablet</option>
                    <option value="celular">Celular</option>
                    <option value="consola">Consola</option>
                    <option value="mouse">Mouse</option>
                    <option value="teclado">Teclado</option>
                    <option value="impresora">Impresora</option>
                    <option value="parlante">Parlante</option>
                    <option value="audifonos">Aud铆fonos</option>
                    <option value="otros">Otros</option>
                </select>
                <br><br>

                <label for="device-years">A帽os de Uso:</label><br>
                <input id="device-years" type="text" name="device-years[]" required 
                    size=3 placeholder="A帽os">
                <br><br>

                <label for="device-condition">Estado de Funcionamiento:</label><br>
                <select id="device-condition" name="device-condition[]" required>
                    <option value="">Seleccione un estado</option>
                    <option value="funciona-perfecto">Funciona perfecto</option>
                    <option value="funciona-a-medias">Funciona a medias</option>
                    <option value="no-funciona">No funciona</option>
                </select>
                <br><br>

                <!-- Carga de fotos de productos -->
                <label for="device-photos">Fotos de productos (m铆nimo 1, m谩ximo 3):</label><br>
                <input id="device-photos" type="file" name="device-photos[]" accept="image/*" multiple required>
                <br><br>
            </div>
        </div>

        <!-- Bot贸n para agregar otro dispositivo -->
        <button id="add-device" type="button">Agregar otro dispositivo a esta donaci贸n</button>
        <button id="remove-device" type="button">Eliminar 煤ltimo dispositivo</button>
        <br><br>
        
        <!-- Bot贸n para publicar la donaci贸n -->
        <button id="publish-donation" type="button">Publicar esta donaci贸n</button>

        <!-- Mensaje de confirmaci贸n -->
        <div id="confirmation-message" class="hidden">
            <p>驴Confirma que desea publicar esta donaci贸n?</p>
            <button type="submit" id="confirm-publish" style="background-color: green;">S铆, confirmo</button>
            <button type="button" id="cancel-publish" style="background-color: brown;">No, quiero volver al formulario</button>
        </div>
    </form>

    <div id="error-message-form" style="color: red;" class="hidden">
        {% if errores %}
            {% for error in errores %}
              {{ error }}
            {% endfor %}
        {% endif %}
    </div>

    <!-- Mensaje de error -->
    <div id="error-message" class="hidden" style="color: red;">
        <p>error</p>
    </div>

    <!-- Mensaje de error dispositivos -->
    <div id="error-message-device" class="hidden" style="color: red;">
        <p>error</p>
    </div>

    <br>
    <button class="back-home-button" onclick="window.location.href='/'">Volver a la portada</button>

    <script src="static/js/donacion.js"></script>
</body>
</html>
